(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-center"],{3694:function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/**\r\n * 根据一些普片的css样式\r\n **/.page-backgroud[data-v-6a610d07], uni-page-body[data-v-6a610d07]{width:100%;height:100%;background:#f2f2f2}body.?%PAGE?%[data-v-6a610d07]{background:#f2f2f2}.visited-color[data-v-6a610d07]{color:#7ec0ee!important}.cut-long-text[data-v-6a610d07]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.tips-box[data-v-6a610d07]{width:100%;height:%?100?%;border:1px solid #f0f0f0;background:#fffef5}.tips-box .tips-inbox[data-v-6a610d07]{width:80%;height:100%;margin:0 auto;display:flex;flex-direction:row;align-items:center}.tips-box .tips-inbox .icon[data-v-6a610d07]{width:%?60?%;height:%?60?%;margin-right:%?30?%}.tips-box .tips-inbox .tips-text[data-v-6a610d07]{font-size:17px;font-weight:500;color:#a6a6a6}.gray-border-box[data-v-6a610d07]{width:90%;height:100%;margin:0 auto;border:1px solid #bbb;border-radius:8px;padding:%?10?%;background:#fff}.blue-column-border-box[data-v-6a610d07]{width:90%;height:%?90?%;margin:0 auto;display:flex;flex-direction:row;align-items:center;margin-top:%?10?%}.blue-column-border-box .blue-border[data-v-6a610d07]{width:5%;height:%?50?%;border-left:6px solid #7ec0ee}.blue-column-border-box .blue-text[data-v-6a610d07]{width:80%;font-size:18px;font-weight:700;color:#7ec0ee}.top-box[data-v-6a610d07]{width:100%;height:%?250?%;background:#7ec0ee}.top-box .row-box[data-v-6a610d07]{width:90%;height:100%;margin:0 auto;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.top-box .row-box .avatar-url-box[data-v-6a610d07]{width:90px;height:90px;border-radius:12px;overflow:hidden}.top-box .row-box .name-card-box[data-v-6a610d07]{width:40%;height:90%;display:flex;flex-direction:column}.top-box .row-box .name-card-box .name-text-box[data-v-6a610d07]{width:100%;height:50%;display:flex;align-items:center}.top-box .row-box .name-card-box .name-text-box .name-text[data-v-6a610d07]{font-size:19px;font-weight:700;color:#fff}.top-box .row-box .name-card-box .name-text-box .icon[data-v-6a610d07]{width:%?70?%;height:%?70?%}.top-box .row-box .name-card-box .card-text[data-v-6a610d07]{width:100%;height:50%;font-size:17px;font-weight:400;color:#fff;display:flex;align-items:center}.top-box .row-box .right-white-icon[data-v-6a610d07]{width:%?70?%;height:%?70?%;margin-left:%?40?%}.top-box .row-box .no-login-img[data-v-6a610d07]{width:90px;height:90px;border-radius:12px;overflow:hidden;background:#fff}.top-box .row-box .no-login-text-box[data-v-6a610d07]{width:70%;height:50%;margin-left:%?40?%;display:flex;flex-direction:column}.top-box .row-box .no-login-text-box .login[data-v-6a610d07]{height:%?70?%;font-size:19px;font-weight:700;color:#fff}.top-box .row-box .no-login-text-box .welcome[data-v-6a610d07]{height:%?50?%;font-size:15px;font-weight:400;color:#fff}.account-acord-outbox[data-v-6a610d07]{width:100%;height:%?130?%;margin-top:%?30?%;background:#fff}.account-acord-outbox .account-acord-inbox[data-v-6a610d07]{width:90%;height:100%;margin:0 auto;display:flex;flex-direction:row}.account-acord-outbox .account-acord-inbox .left-right-half[data-v-6a610d07]{width:50%;height:100%;display:flex;flex-direction:row;align-items:center}.account-acord-outbox .account-acord-inbox .left-right-half .icon[data-v-6a610d07]{width:%?80?%;height:%?80?%;margin-right:%?20?%}.account-acord-outbox .account-acord-inbox .left-right-half .text[data-v-6a610d07]{width:70%;font-size:18px;font-weight:500;color:#a6a6a6}.bottom-outbox[data-v-6a610d07]{width:100%;height:100%;background:#fff;margin-top:%?30?%;margin-bottom:%?30?%;display:flex;flex-direction:column}.bottom-outbox .option-inbox[data-v-6a610d07]{width:90%;height:%?130?%;margin:0 auto;display:flex;flex-direction:row;align-items:center}.bottom-outbox .option-inbox .icon[data-v-6a610d07]{width:%?80?%;height:%?80?%;margin-right:%?20?%}.bottom-outbox .option-inbox .text[data-v-6a610d07]{font-size:18px;font-weight:500;color:#a6a6a6}.bottom-outbox .option-inbox[data-v-6a610d07]:not(:last-child){border-bottom:1px solid #f4f4f4}',""]),t.exports=e},3844:function(t,e,a){"use strict";a.r(e);var o=a("7169"),n=a("7361");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("9e75");var r=a("f0c5"),s=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"6a610d07",null,!1,o["a"],void 0);e["default"]=s.exports},5317:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,a){return function(t){return console.log((0,n.getToken)()),new Promise((function(e,a){0==uni.getStorageSync("isAlreadyLogin")||""==uni.getStorageSync("isAlreadyLogin")||null==uni.getStorageSync("isAlreadyLogin")?uni.showToast({title:"您暂未登录",icon:"none",mask:!0,duration:1e3}):uni.request({url:o.requestURL+t.url,method:t.method,data:t.data,header:{"content-type":"application/json",Authorization:(0,n.getToken)()||""},success:function(t){200===t.statusCode?(console.log("成功200"),e(t)):401===t.statusCode?(uni.showToast({title:"token凭证已过期，请重新登录",icon:"none",mask:!0,duration:1e3}),(0,i.tokenRefresh)().then((function(t){console.log(t),(0,n.setToken)(t.data)})),console.log((0,n.getToken)())):(console.log("失败1"),a(t))},fail:function(t){console.log(t),console.log("失败2"),a(t)}})}))}(t)},a("d3b7");var o=a("f88f"),n=a("a6d7"),i=a("3649")},"5bd0":function(t,e,a){"use strict";a("7a82");var o=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.addCard=function(t,e){return(0,n.default)({url:"/user/card/"+t,method:"post",data:e})},e.deleteCardInfo=function(t){return(0,n.default)({url:"/user/card/"+t,method:"delete"})},e.getIsCardOverIimit=function(t){return(0,n.default)({url:"/user/card/number/"+t,method:"get"})},e.getUserBaseInfo=function(){return(0,n.default)({url:"/user/basic/info",method:"get"})},e.getUserCardInfo=function(t){return(0,n.default)({url:"/user/card/list/"+t,method:"get"})},e.updateBaseInfo=function(t,e){return(0,n.default)({url:"/user/basic/"+t,method:"put",data:e})},e.updateCardInfo=function(t,e){return(0,n.default)({url:"/user/card/"+t,method:"put",data:e})};var n=o(a("5317"))},7169:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"body"},[a("v-uni-view",{staticClass:"top-box"},[t.isAlreadyLogin?a("v-uni-view",{staticClass:"row-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toBaseInfo()}}},[a("v-uni-image",{staticClass:"avatar-url-box",attrs:{src:t.userBaseInfo.avatarUrl}}),a("v-uni-view",{staticClass:"name-card-box"},[a("v-uni-view",{staticClass:"name-text-box"},[a("v-uni-text",{staticClass:"name-text"},[t._v(t._s(t.userBaseInfo.name))]),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:t.isGetTreatCard,expression:"isGetTreatCard"}],staticClass:"icon",attrs:{src:2===t.gender?t.iconUrl+"female.png":t.iconUrl+"male.png"}})],1),""!==t.cardID?a("v-uni-text",{staticClass:"card-text"},[t._v("卡号："+t._s(t.cardID))]):t._e()],1),a("v-uni-image",{staticClass:"right-white-icon",attrs:{src:"/static/center/right-white.png"}})],1):a("v-uni-view",{staticClass:"row-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.turnLogin()}}},[a("v-uni-image",{staticClass:"no-login-img",attrs:{src:"/static/center/unknownAvatar.png"}}),a("v-uni-view",{staticClass:"no-login-text-box"},[a("v-uni-text",{staticClass:"login"},[t._v("点击注册/登录")]),a("v-uni-text",{staticClass:"welcome"},[t._v("欢迎来到挂号系统")])],1)],1)],1),a("v-uni-view",{staticClass:"account-acord-outbox"},[a("v-uni-view",{staticClass:"account-acord-inbox"},[a("v-uni-view",{staticClass:"left-right-half",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toTreatRecord()}}},[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/center/treat-record.png"}}),a("v-uni-text",{staticClass:"text"},[t._v("就诊记录")])],1),a("v-uni-view",{staticClass:"left-right-half",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAppointRecord()}}},[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/center/appoint-record.png"}}),a("v-uni-text",{staticClass:"text"},[t._v("挂号记录")])],1)],1)],1),a("v-uni-view",{staticClass:"bottom-outbox"},[a("v-uni-view",{staticClass:"option-inbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toCardList()}}},[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/center/card-list.png"}}),a("v-uni-text",{staticClass:"text"},[t._v("我的家人")])],1),a("v-uni-view",{staticClass:"option-inbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAwaitingQueue()}}},[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/center/paidui.png"}}),a("v-uni-text",{staticClass:"text"},[t._v("候诊队列")])],1),a("v-uni-view",{staticClass:"option-inbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toCreditDetail()}}},[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/center/xinyong.png"}}),a("v-uni-text",{staticClass:"text"},[t._v("信用详情")])],1),a("v-uni-view",{staticClass:"option-inbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAboutUs()}}},[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/center/about-us.png"}}),a("v-uni-text",{staticClass:"text"},[t._v("关于我们")])],1),t.isAlreadyLogin?a("v-uni-view",{staticClass:"option-inbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.outLogin()}}},[a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/center/outLogin.png"}}),a("v-uni-text",{staticClass:"text"},[t._v("退出登录")])],1):t._e()],1)],1)},n=[]},7361:function(t,e,a){"use strict";a.r(e);var o=a("ea78"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},"9b23":function(t,e,a){var o=a("3694");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("4f06").default;n("80c1ade6",o,!0,{sourceMap:!1,shadowMode:!1})},"9e75":function(t,e,a){"use strict";var o=a("9b23"),n=a.n(o);n.a},ea78:function(t,e,a){"use strict";a("7a82");var o=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("e9c4"),a("d3b7"),a("159b");var n=a("d2d9"),i=a("5bd0"),r=o(a("ecb3")),s={data:function(){return{isAlreadyLogin:uni.getStorageSync("isAlreadyLogin")||"",isGetTreatCard:!1,iconUrl:"/static/center/",gender:1,userBaseInfo:{name:"",avatarUrl:"",phone:""},cardID:uni.getStorageSync("cardID")||""}},onPullDownRefresh:function(){this.getUserInfo(),this.isAlreadyLogin=uni.getStorageSync("isAlreadyLogin")},methods:{turnLogin:function(){uni.navigateTo({url:"/pagesB/pages/center/login/login"})},toCardList:function(){this.isAlreadyLogin?uni.navigateTo({url:"/pagesB/pages/center/cardList/cardList"}):(0,n.error)("登录")},toAwaitingQueue:function(){this.isAlreadyLogin?uni.navigateTo({url:"/pagesA/pages/awaitingQueue/awaitingQueue"}):(0,n.error)("登录")},toCreditDetail:function(){this.isAlreadyLogin?uni.navigateTo({url:"/pagesA/pages/creditDetail/creditDetail"}):(0,n.error)("登录")},toAppointRecord:function(){this.isAlreadyLogin?uni.navigateTo({url:"/pagesA/pages/appointRecord/appointRecord"}):(0,n.error)("登录")},toTreatRecord:function(){this.isAlreadyLogin?uni.navigateTo({url:"/pagesA/pages/treatRecord/treatRecord"}):(0,n.error)("登录")},toAboutUs:function(){uni.navigateTo({url:"/pagesA/pages/aboutUs/aboutUs"})},toBaseInfo:function(){uni.navigateTo({url:"/pagesB/pages/center/baseInfo/baseInfo"})},outLogin:function(){var t=this;uni.showModal({title:"退出登录",content:"是否退出登录？",confirmText:"确认",cancelText:"取消",success:function(e){e.confirm&&(uni.removeStorageSync("isAlreadyLogin"),uni.removeStorageSync("cardID"),t.isAlreadyLogin=!1)}})},getUserInfo:function(){var t=this;uni.showLoading({title:"信息加载中"}),(0,i.getUserBaseInfo)().then((function(e){var a=e.data.data.basicInfo;t.userBaseInfo.name=a.name,t.userBaseInfo.avatarUrl=a.avatarUrl,t.userBaseInfo.phone=a.phone,uni.setStorageSync("accountID",e.data.data.account.id),uni.setStorageSync("userID",a.id),t.getMyselfCardInfo(),uni.setStorageSync("userInfo",JSON.stringify(t.userBaseInfo)),uni.hideLoading()})).catch((function(){uni.hideLoading(),(0,n.error)("获取用户基本信息失败")}))},getMyselfCardInfo:function(){var t=this;(0,i.getUserCardInfo)(uni.getStorageSync("accountID")).then((function(e){if(200===e.data.code){var a=e.data.data;a.length>0&&a.forEach((function(e,a){if(0===e.type)return uni.setStorageSync("cardID",e.id),t.cardID=e.id,void wx.stopPullDownRefresh()})),uni.hideLoading()}})).catch((function(){uni.hideLoading(),(0,n.error)("网络")}))}},onShow:function(){console.log((0,r.default)("admin")),uni.getStorageSync("isAlreadyLogin")&&this.getUserInfo(),this.isAlreadyLogin=uni.getStorageSync("isAlreadyLogin")}};e.default=s}}]);